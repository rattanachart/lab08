<html>
<head>
    <meta charset="UTF-8">
    <title>To Do</title>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script>
        $.ajax({
                    url: "add_new_todo.php",
                    type: "POST",
                    data: "topic=",
                    success: function(data) {
                        $("#disp").html(data);
                    },
                    error: function(data) {
                        $("#disp").html("<h3>Error!</h3>");
                    }
                });
        $(document).ready(function() {
            $("#submit").click(function(event) {
                if($("#todo").val() != "") $.ajax({
                    url: "add_new_todo.php",
                    type: "POST",
                    data: "topic=" + $("#todo").val(),
                    success: function(data) {
                        $("#disp").html(data);
                    },
                    error: function(data) {
                        $("#disp").html("<h3>Error!</h3>");
                    }
                });
            });
                
            $("#todo").click(function(event) {
                $(this).select();
            });
        });
    </script>
</head>
<body>
    <p>Todo:
        <input type="text" id="todo">
        <button id="submit" name="save">Save</button> 
    <div id="disp"></div>
    </p>
</body>
</html>